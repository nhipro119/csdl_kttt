
Trần Quang Hoàng
Chống SPAM với Postfix và SpamAssassin
Nếu bạn đang tìm cách để lọc bỏ các e-mail quấy rối tại máy chủ e-mail thì đây là các bước để thực hiện chúng trên mạng của mình: Giới thiệuCài đặt SpamAssassinTham khảo-----------------------Giới thiệu=================Chúng ta đều biết Postfix UCE có nhiều tính năng mạnh và SpamAssassin là một công cụ rất hiệu quả để chặn, bắt các thư rác. Hướng dẫn này giả định rằng Postfix đã và đang hoạt động trên một máy chủ sử dụng hệ điều hành FreeBSD.Cài đặt SpamAssassin=================Cài đặt SpamAssassin từ các ports collection.# cd /usr/ports/mail/p5-Mail-SpamAssassin# make install cleanBổ sung 1 user và group filter để chạy SpamAssassin. Ví dụ :/etc/passwd: filter:*:23:23::0:0:Postfix Filter Daemon:/var/empty:/sbin/nologin/etc/group: filter:*:23:Tạo một shell script để chạy client SpamAssassin từ Postfix, nội dung như sau:/usr/local/sbin/filter.sh:#!/bin/sh/usr/local/bin/spamc | /usr/sbin/sendmail -i &quot;$@&quot;exit $?Bật chế độ cho phép chạy script này:# chmod +x /usr/local/sbin/filter.shTạo một script để khởi động máy chủ SpamAssassin khi khởi động với các tham số như auto-witelisst, daemonize, sử dụng bộ lọc người dùng và cho phép tối đa 10 tiến trình con:/usr/local/etc/rc.d/spamd.sh:/usr/local/bin/spamd -a -d -u filter -m 10 &amp;amp;Bật chế độ cho chạy script:# chmod +x /usr/local/etc/rc.d/spamd.shKhởi động SpamAssassin: # /usr/local/etc/rc.d/spamd.shSpamAssassin client and server are ready to go. Lets plug it into Postfix: SpamAssassin client và server đã sẵn sàng để hoạt động. Hãy gắn nó vào Postfix bằng cách thêm các thông số sau vào file /usr/local/etc/postfix/master.cf :-o content_filter=spamfilter:spamfilter unix - n n - - pipeflags=Rq user=filter argv=/usr/local/sbin/filter.sh -f ${sender} -- ${recipient}Kết quả cuối cùng trông sẽ giống như sau :# ==========================================================================# service type private unpriv chroot wakeup maxproc command + args# (yes) (yes) (yes) (never) (50)# ==========================================================================smtp inet n - n - - smtpd -o content_filter=spamfilter:spamfilter unix - n n - - pipeflags=Rq user=filter argv=/usr/local/sbin/filter.sh -f ${sender} -- ${recipient}Bây giờ, bạn hãy khởi động lai Postfix:# postfix reloadMỗi email đi qua Postfix và SpamAssassin sẽ chứa một thông số X-Spam-Status trong phần tiêu đề: Yes nếu nó là thư rác. Người dùng có thể lọc bỏ nó và qui định các hành động thích hợp cho email này trong chương trình e-mail yêu thích của mình.Tham khảo================SpamAssassinhttp://spamassassin.orgPostfixhttp://www.postfix.org
Mục lục
Chống SPAM với Postfix và SpamAssassin
Chống SPAM với Postfix và SpamAssassin
Trần Quang HoàngChào mừng các bạn đón đọc đầu sách từ dự án sách cho thiết bị di độngNguồn: http://vnthuquan.netPhát hành: Nguyễn Kim Vỹ.Lời cuối:Cám ơn bạn đã theo dõi hết cuốn truyện.Nguồn: http://vnthuquan.netPhát hành: Nguyễn Kim Vỹ.        Nguồn: www.quantrimang.com.vnĐược bạn: mickey đưa lên        vào ngày: 5 tháng 12 năm 2004